{% extends 'base.html' %}

{% block content %}
    {{ super() }}
    <h1 class="h1-mainpage">Animals Model</h1>
        <form class="animal-form" action="/animals-model" method="POST" enctype="multipart/form-data">
            <div class="input-file-container">
                <input class="input-file" type="file" name="image" accept="image/*" id="my-file" required>
                <label tabindex="0" for="my-file" class="input-file-trigger">Select a file...</label>
            </div>
            <p class="file-return"></p>
            <button class="confirm_button" type="submit">Analyze</button>
        </form>
    {% if result %}
        <div class="results">
            <h3>This is {{ result }}.</h3>
        </div>
    {% endif %}
<script>
    document.querySelector("html").classList.add('js');

    var fileInput  = document.querySelector(".input-file"),
        button     = document.querySelector(".input-file-trigger"),
        the_return = document.querySelector(".file-return");

    button.addEventListener("keydown", function(event) {
        if (event.keyCode == 13 || event.keyCode == 32) {
            fileInput.focus();
        }
    });
    button.addEventListener("click", function(event) {
        fileInput.focus();
        return false;
    });
    fileInput.addEventListener("change", function(event) {
        if (this.files.length > 0) {
            var fileName = this.files[0].name;
            the_return.innerHTML = fileName;
        }
    });
</script>
{% endblock %}